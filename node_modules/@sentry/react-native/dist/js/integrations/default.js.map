{"version":3,"file":"default.js","sourceRoot":"","sources":["../../../src/js/integrations/default.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable complexity */\nimport type { Integration } from '@sentry/core';\n\nimport type { ReactNativeClientOptions } from '../options';\nimport { reactNativeTracingIntegration } from '../tracing';\nimport { notWeb } from '../utils/environment';\nimport {\n  appRegistryIntegration,\n  appStartIntegration,\n  breadcrumbsIntegration,\n  browserApiErrorsIntegration,\n  browserGlobalHandlersIntegration,\n  browserLinkedErrorsIntegration,\n  createNativeFramesIntegrations,\n  createReactNativeRewriteFrames,\n  debugSymbolicatorIntegration,\n  dedupeIntegration,\n  deviceContextIntegration,\n  eventOriginIntegration,\n  expoContextIntegration,\n  functionToStringIntegration,\n  hermesProfilingIntegration,\n  httpClientIntegration,\n  httpContextIntegration,\n  inboundFiltersIntegration,\n  mobileReplayIntegration,\n  modulesLoaderIntegration,\n  nativeLinkedErrorsIntegration,\n  nativeReleaseIntegration,\n  reactNativeErrorHandlersIntegration,\n  reactNativeInfoIntegration,\n  screenshotIntegration,\n  sdkInfoIntegration,\n  spotlightIntegration,\n  stallTrackingIntegration,\n  timeToDisplayIntegration,\n  userInteractionIntegration,\n  viewHierarchyIntegration,\n} from './exports';\n\n/**\n * Returns the default ReactNative integrations based on the current environment.\n *\n * Native integrations are only returned when native is enabled.\n *\n * Web integrations are only returned when running on web.\n */\nexport function getDefaultIntegrations(options: ReactNativeClientOptions): Integration[] {\n  const integrations: Integration[] = [];\n\n  if (notWeb()) {\n    integrations.push(\n      reactNativeErrorHandlersIntegration({\n        patchGlobalPromise: options.patchGlobalPromise,\n      }),\n    );\n    integrations.push(nativeLinkedErrorsIntegration());\n  } else {\n    integrations.push(browserApiErrorsIntegration());\n    integrations.push(browserGlobalHandlersIntegration());\n    integrations.push(browserLinkedErrorsIntegration());\n  }\n\n  // @sentry/react default integrations\n  integrations.push(inboundFiltersIntegration());\n  integrations.push(functionToStringIntegration());\n  integrations.push(breadcrumbsIntegration());\n  integrations.push(dedupeIntegration());\n  integrations.push(httpContextIntegration());\n  // end @sentry/react-native default integrations\n\n  integrations.push(nativeReleaseIntegration());\n  integrations.push(eventOriginIntegration());\n  integrations.push(sdkInfoIntegration());\n  integrations.push(reactNativeInfoIntegration());\n\n  integrations.push(createReactNativeRewriteFrames());\n\n  if (options.enableNative) {\n    integrations.push(deviceContextIntegration());\n    integrations.push(modulesLoaderIntegration());\n    if (options.attachScreenshot) {\n      integrations.push(screenshotIntegration());\n    }\n    if (options.attachViewHierarchy) {\n      integrations.push(viewHierarchyIntegration());\n    }\n    if (typeof options.profilesSampleRate === 'number') {\n      integrations.push(hermesProfilingIntegration());\n    }\n  }\n\n  // hasTracingEnabled from `@sentry/core` only check if tracesSampler or tracesSampleRate keys are present\n  // that's different from prev imp here and might lead misconfiguration\n  // `tracesSampleRate: undefined` should not enable tracing\n  const hasTracingEnabled =\n    options.enableTracing ||\n    typeof options.tracesSampleRate === 'number' ||\n    typeof options.tracesSampler === 'function';\n  if (hasTracingEnabled && options.enableAppStartTracking) {\n    integrations.push(appStartIntegration());\n  }\n  const nativeFramesIntegrationInstance = createNativeFramesIntegrations(\n    hasTracingEnabled && options.enableNativeFramesTracking,\n  );\n  if (nativeFramesIntegrationInstance) {\n    integrations.push(nativeFramesIntegrationInstance);\n  }\n  if (hasTracingEnabled && options.enableStallTracking) {\n    integrations.push(stallTrackingIntegration());\n  }\n  if (hasTracingEnabled && options.enableUserInteractionTracing) {\n    integrations.push(userInteractionIntegration());\n  }\n  if (hasTracingEnabled && options.enableAutoPerformanceTracing) {\n    integrations.push(appRegistryIntegration());\n    integrations.push(reactNativeTracingIntegration());\n  }\n  if (hasTracingEnabled) {\n    integrations.push(timeToDisplayIntegration());\n  }\n  if (options.enableCaptureFailedRequests) {\n    integrations.push(httpClientIntegration());\n  }\n\n  integrations.push(expoContextIntegration());\n\n  if (options.spotlight) {\n    const sidecarUrl = typeof options.spotlight === 'string' ? options.spotlight : undefined;\n    integrations.push(spotlightIntegration({ sidecarUrl }));\n  }\n\n  const hasReplayOptions =\n    typeof options.replaysOnErrorSampleRate === 'number' || typeof options.replaysSessionSampleRate === 'number';\n  const hasExperimentsReplayOptions =\n    (options._experiments && typeof options._experiments.replaysOnErrorSampleRate === 'number') ||\n    (options._experiments && typeof options._experiments.replaysSessionSampleRate === 'number');\n\n  if (!hasReplayOptions && hasExperimentsReplayOptions) {\n    // Remove in the next major version (v7)\n    options.replaysOnErrorSampleRate = options._experiments.replaysOnErrorSampleRate;\n    options.replaysSessionSampleRate = options._experiments.replaysSessionSampleRate;\n  }\n\n  if ((hasReplayOptions || hasExperimentsReplayOptions) && notWeb()) {\n    // We can't create and add browserReplayIntegration as it overrides the users supplied one\n    // The browser replay integration works differently than the rest of default integrations\n    integrations.push(mobileReplayIntegration());\n  }\n\n  if (__DEV__ && notWeb()) {\n    integrations.push(debugSymbolicatorIntegration());\n  }\n\n  return integrations;\n}\n"]}