DIAGRAMA BAZA DE DATE COFFEESHARE - COD MERMAID COMPLET
================================================================

Pentru a insera această diagramă în lucrarea de licență:
1. Copiază codul de mai jos
2. Generează diagrama folosind Mermaid Live Editor (https://mermaid.live/)
3. Exportează ca imagine PNG/SVG
4. Inserează în documentul Word la secțiunea 4.5

COD MERMAID:
============

```mermaid
erDiagram
    %% Core User Management
    users {
        string uid PK
        string email
        string displayName
        string role
        timestamp createdAt
        string status
        object subscription
    }
    
    admins {
        string uid PK
        string email
        string displayName
        array permissions
        string accessLevel
    }
    
    partners {
        string uid PK
        string email
        string displayName
        string businessName
        string verificationStatus
        timestamp partnershipDate
    }
    
    %% Coffee Business
    cafes {
        string id PK
        string businessName
        string address
        string status
        string ownerEmail
        string partnerUid FK
        object location
        boolean acceptsSubscriptions
    }
    
    products {
        string id PK
        string name
        number priceLei
        number beansValue
        string cafeId FK
        string category
    }
    
    %% Subscription System
    subscriptions {
        string id PK
        string name
        number credits
        number price
        boolean isActive
    }
    
    userSubscriptions {
        string id PK
        string userId FK
        string subscriptionId FK
        number creditsLeft
        string status
        timestamp activatedAt
    }
    
    %% QR and Transactions
    qrTokens {
        string id PK
        string userId FK
        string token
        timestamp expiresAt
        boolean isActive
        string cafeId FK
        string type
    }
    
    transactions {
        string id PK
        string partnerId FK
        string userId FK
        string cafeId FK
        string qrTokenId FK
        number beansUsed
        number earningsRon
        timestamp scannedAt
        string tokenType
    }
    
    %% User Features
    userCarts {
        string userId PK
        array items
        number totalBeans
        string cafeId FK
    }
    
    wishlist {
        string id PK
        string userId FK
        string cafeId FK
        string cafeName
        timestamp addedAt
    }
    
    %% Analytics
    partnerAnalyticsProfiles {
        string partnerId PK
        number totalEarnings
        number totalScans
        timestamp lastScanAt
    }
    
    globalStatistics {
        string id PK
        number totalUsers
        number totalPartners
        number totalCafes
        number totalRevenue
        timestamp lastUpdated
    }
    
    %% Activity Tracking
    userActivities {
        string id PK
        string userId FK
        string type
        timestamp timestamp
        string cafeId FK
    }
    
    userNotifications {
        string id PK
        string userId FK
        string type
        string title
        boolean read
        timestamp createdAt
    }
    
    %% ALL RELATIONSHIPS
    %% User relationships
    users ||--o{ userSubscriptions : "has_subscription"
    users ||--o{ qrTokens : "generates_qr"
    users ||--o{ transactions : "makes_transaction"
    users ||--o{ userCarts : "owns_cart"
    users ||--o{ wishlist : "creates_wishlist"
    users ||--o{ userActivities : "performs_activity"
    users ||--o{ userNotifications : "receives_notification"
    
    %% Partner relationships
    partners ||--o{ cafes : "owns_cafe"
    partners ||--o{ transactions : "receives_transaction"
    partners ||--|| partnerAnalyticsProfiles : "has_analytics"
    
    %% Admin relationships
    admins ||--o{ globalStatistics : "manages_stats"
    
    %% Cafe relationships
    cafes ||--o{ products : "contains_product"
    cafes ||--o{ qrTokens : "accepts_qr"
    cafes ||--o{ transactions : "processes_transaction"
    cafes ||--o{ userCarts : "serves_cart"
    cafes ||--o{ wishlist : "featured_in_wishlist"
    cafes ||--o{ userActivities : "location_of_activity"
    
    %% Subscription relationships
    subscriptions ||--o{ userSubscriptions : "instantiated_as"
    
    %% QR and Transaction relationships
    qrTokens ||--o{ transactions : "redeemed_as"
    
    %% Product relationships
    products }o--|| userCarts : "added_to_cart"
```

INSTRUCȚIUNI PENTRU GENERAREA DIAGRAMEI:
========================================

1. Accesează https://mermaid.live/
2. Șterge conținutul existent din editor
3. Copiază și lipește codul de mai sus (fără backticks-urile ```mermaid)
4. Diagrama se va genera automat
5. Click pe "Actions" -> "Download PNG" sau "Download SVG"
6. Salvează imaginea cu numele "Figura4_DiagramaBazaDate_CoffeeShare"
7. Inserează în documentul Word la secțiunea 4.5

ALTERNATIVE PENTRU GENERARE:
============================

1. Visual Studio Code cu extensia "Mermaid Preview"
2. GitHub (creează un fișier .md și inserează codul)
3. Notion (suportă Mermaid nativ)
4. Draw.io (importă cod Mermaid)

NOTĂ PENTRU LICENȚĂ:
===================

În documentul final, această diagramă trebuie să apară ca:
"Figura 4. Diagrama entitate-relație a bazei de date CoffeeShare, pagina X"

Și să fie menționată în Lista Figurilor de la sfârșitul lucrării. 